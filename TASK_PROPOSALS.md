# –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã

## 1) –ó–∞–¥–∞—á–∞ –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–ø–µ—á–∞—Ç–∫–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –≤ `DOCUMENTATION.md` –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–∞–∑–¥–µ–ª–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å –±–∏—Ç—ã–º —Å–∏–º–≤–æ–ª–æ–º (`## ÔøΩ  –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç`), —á—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–ø–µ—á–∞—Ç–∫–∞/–æ—à–∏–±–∫–∞ –∫–æ–¥–∏—Ä–æ–≤–∫–∏.

**–ó–∞–¥–∞—á–∞:** –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, `## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç`) –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ emoji/—Å–∏–º–≤–æ–ª—ã –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ –Ω–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∫–æ–¥–∏—Ä–æ–≤–∫–∏.

---

## 2) –ó–∞–¥–∞—á–∞ –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –≤ `get_cbr_url()` –≥–æ–¥ –∑–∞—à–∏—Ç –∫–∞–∫ `2025`, –∏–∑-–∑–∞ —á–µ–≥–æ –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã –≥–æ–¥–∞ —Å–µ—Ä–≤–∏—Å –±—É–¥–µ—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–≤–µ—Ä–Ω—ã–π URL –∫ –¥–∞–Ω–Ω—ã–º –¶–ë.

**–ó–∞–¥–∞—á–∞:** —Å–¥–µ–ª–∞—Ç—å –≥–æ–¥ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º (–Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã/–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –º–µ—Å—è—Ü–∞), –¥–æ–±–∞–≤–∏—Ç—å –∑–∞—â–∏—Ç—É –æ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞ –≥–æ–¥–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ URL –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö –¥–µ–∫–∞–±—Ä—è/—è–Ω–≤–∞—Ä—è.

---

## 3) –ó–∞–¥–∞—á–∞ –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è/–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –≤ `DOCUMENTATION.md` —Ä–∞–∑–¥–µ–ª —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –æ–ø–∏—Å—ã–≤–∞–µ—Ç PostgreSQL-–∫–æ–º–∞–Ω–¥—ã –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `fsp_postgres`, –Ω–æ –≤ —Ç–µ–∫—É—â–µ–π —É–ø—Ä–æ—â—ë–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞—è–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SQLite –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ PostgreSQL.

**–ó–∞–¥–∞—á–∞:** –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª troubleshooting –ø–æ–¥ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É (SQLite + in-memory cache), —É–¥–∞–ª–∏—Ç—å/–ø–æ–º–µ—Ç–∏—Ç—å legacy-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è PostgreSQL.

---

## 4) –ó–∞–¥–∞—á–∞ –Ω–∞ —É–ª—É—á—à–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–æ–π –ª–æ–≥–∏–∫–∏ —Å–µ—Ä–≤–∏—Å–∞ (`price/services.py`): —Ä–∞—Å—á—ë—Ç P/B, –≤—ã–±–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ —Ü–µ–Ω—ã, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö/–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö, fallback-–∫—ç—à.

**–ó–∞–¥–∞—á–∞:** –¥–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã –¥–ª—è `SberPriceService` —Å –º–æ–∫–∞–º–∏ —Å–µ—Ç–µ–≤—ã—Ö –≤—ã–∑–æ–≤–æ–≤ (`requests.get`) –∏ –∫—ç—à–∞, –ø–æ–∫—Ä—ã–≤:
- `get_cbr_url()` –∏ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ –¥–∞—Ç—ã;
- `get_price_score()` –¥–ª—è –≤—Å–µ—Ö –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ P/B;
- `get_moex_price()` (–æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫, fallback, –æ—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞);
- `get_current_data()` –ø—Ä–∏ `None`-–∑–Ω–∞—á–µ–Ω–∏—è—Ö –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞.
