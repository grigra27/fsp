# –§–∏–Ω–∞–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞ –¥–µ–ø–ª–æ—è - –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ

## ‚úÖ –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã

### 1. üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å CSS —Ñ–∞–π–ª–∞–º–∏
- **–ü—Ä–æ–±–ª–µ–º–∞**: `bootstrap.css.map` –Ω–µ –Ω–∞–π–¥–µ–Ω –ø—Ä–∏ —Å–±–æ—Ä–∫–µ Docker
- **–†–µ—à–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ WhiteNoise –≤ `production.py`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: Docker –æ–±—Ä–∞–∑—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

### 2. üîê –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è SSH –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **–ü—Ä–æ–±–ª–µ–º–∞**: SSH –∫–ª—é—á —Å –ø–∞—Ä–æ–ª–µ–º –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª—Å—è
- **–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `passphrase` –≤ GitHub Actions
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å –∑–∞—â–∏—â–µ–Ω–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏

### 3. üìö –°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **DEPLOYMENT_SECRETS_SETUP.md** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets
- **SECURITY_BEST_PRACTICES.md** - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **CSS_FIX_SUMMARY.md** - –¥–µ—Ç–∞–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è CSS –ø—Ä–æ–±–ª–µ–º—ã

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ

### ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- SSH –∫–ª—é—á–∏ **–î–û–õ–ñ–ù–´** –±—ã—Ç—å –∑–∞—â–∏—â–µ–Ω—ã –ø–∞—Ä–æ–ª–µ–º
- –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ GitHub Secrets
- –†–µ–≥—É–ª—è—Ä–Ω–∞—è —Ä–æ—Ç–∞—Ü–∏—è –∫–ª—é—á–µ–π –∏ –ø–∞—Ä–æ–ª–µ–π
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### ‚ùå –£–±—Ä–∞–Ω–æ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ–µ:
- –£–¥–∞–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–π –±–µ–∑ –ø–∞—Ä–æ–ª—è
- –£–±—Ä–∞–Ω—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –∫–ª—é—á–∞—Ö –±–µ–∑ passphrase
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –¥–µ–ø–ª–æ—è

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ SSH –∫–ª—é—á–∞
```bash
# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–π SSH –∫–ª—é—á —Å –ø–∞—Ä–æ–ª–µ–º
ssh-keygen -t ed25519 -C "github-actions-deploy"
# –í–ê–ñ–ù–û: –í–≤–µ–¥–∏—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ!

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh root@your-server-ip
echo "–≤–∞—à_–ø—É–±–ª–∏—á–Ω—ã–π_–∫–ª—é—á" >> ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys
chmod 700 ~/.ssh
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Secrets
–í `Settings` ‚Üí `Secrets and variables` ‚Üí `Actions` –¥–æ–±–∞–≤—å—Ç–µ:

- ‚úÖ `DO_HOST` - IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ `DO_USERNAME` - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (root)
- ‚úÖ `DO_SSH_KEY` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á
- ‚úÖ `DO_SSH_PASSPHRASE` - –ø–∞—Ä–æ–ª—å SSH –∫–ª—é—á–∞
- ‚úÖ `DO_PORT` - SSH –ø–æ—Ä—Ç (22)
- ‚úÖ `SECRET_KEY` - Django SECRET_KEY
- ‚úÖ `ALLOWED_HOSTS` - —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ö–æ—Å—Ç—ã
- ‚úÖ `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

### –®–∞–≥ 3: –î–µ–ø–ª–æ–π
```bash
git add .
git commit -m "Final deployment configuration with security fixes"
git push origin main
```

## üéØ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

### GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. **–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∫–æ–¥** - –∑–∞–ø—É—Å–∫–∞–µ—Ç Django –ø—Ä–æ–≤–µ—Ä–∫–∏
2. **–°–æ–±–∏—Ä–∞–µ—Ç Docker –æ–±—Ä–∞–∑—ã** - –±–µ–∑ –æ—à–∏–±–æ–∫ CSS
3. **–ü—É–±–ª–∏–∫—É–µ—Ç –≤ Registry** - GitHub Container Registry
4. **–ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É** - –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–æ SSH —Å –ø–∞—Ä–æ–ª–µ–º
5. **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä** - Docker, Compose, —Ñ–∞–π—Ä–≤–æ–ª
6. **–ó–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** - –≤–µ–± + –±–æ—Ç + Redis
7. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ** - health checks

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- üåê –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `http://your-server-ip:8000`
- üè• Health check: `http://your-server-ip:8000/api/health/`
- ü§ñ Telegram –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- üìä –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –º–æ–Ω–∏—Ç–æ—Ä—è—Ç—Å—è

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ –¥–µ–ø–ª–æ–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ GitHub Secrets**
   - –í—Å–µ 8 —Å–µ–∫—Ä–µ—Ç–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω—ã?
   - SSH –∫–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é?
   - Passphrase –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π?

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**
   ```bash
   ssh -i ~/.ssh/your_key root@your-server-ip
   ```

3. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ GitHub Actions**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ `Actions` –≤ –≤–∞—à–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
   - –ù–∞–π–¥–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—É—Å–∫
   - –ò–∑—É—á–∏—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä–≤–µ—Ä**
   ```bash
   # –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
   docker-compose -f docker-compose.prod.yml ps
   
   # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   docker logs fsp_web
   docker logs fsp_telegram_bot
   ```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- Health endpoint: `curl http://your-server-ip:8000/api/health/`
- –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: `tail -f /opt/fair-sber-price/fsp/logs/app.log`
- –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤: `docker ps`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤: `htop`

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- GitHub Actions –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º push
- Docker health checks –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- Systemd –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å—ã

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í–∞—à –ø—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç:
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—É—é SSH –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å CSS
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ health checks
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ü—Ä–æ—Å—Ç–æ —Å–¥–µ–ª–∞–π—Ç–µ push –≤ main –≤–µ—Ç–∫—É, –∏ –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç!** üöÄ

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. –ò–∑—É—á–∏—Ç–µ –ª–æ–≥–∏ GitHub Actions
3. –°–æ–∑–¥–∞–π—Ç–µ Issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

**Fair Sber Price –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!** üí∞üìä